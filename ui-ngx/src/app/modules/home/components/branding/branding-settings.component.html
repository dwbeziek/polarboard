<!--

    Copyright Â© 2025 Cryolytix
    All rights reserved.

    This software is the confidential and proprietary information of Cryolytix.
    You may not disclose, reproduce, or distribute this software without prior
    written permission from Cryolytix, except as permitted by applicable law.
    This software is provided "AS IS" without warranty of any kind, express or
    implied, including but not limited to warranties of merchantability or
    fitness for a particular purpose.

-->
<mat-card appearance="outlined" class="settings-card">
  <mat-card-header>
    <mat-card-title>
      <span class="mat-headline-5" translate>admin.branding.branding-settings</span>
    </mat-card-title>
    <span class="flex-1"></span>
<!--    <div tb-help="securitySettings"></div> TODO Darrol create documentation for this-->
  </mat-card-header>
  <mat-progress-bar color="accent" mode="indeterminate" *ngIf="isLoading$ | async">
  </mat-progress-bar>
  <div style="height: 4px;" *ngIf="!(isLoading$ | async)"></div>
  <mat-card-content style="padding-top: 16px;">
    <form [formGroup]="brandingSettingsFormGroup" #formDirective="ngForm" (ngSubmit)="save()">
      <fieldset [disabled]="isLoading$ | async">
        <mat-form-field class="mat-block">
          <mat-label translate>admin.branding.logo-path</mat-label>
          <input matInput formControlName="logoPath"/>
          <mat-error *ngIf="brandingSettingsFormGroup.get('logoPath').hasError('required')">
            {{ 'admin.branding.logo-path-required' | translate }}
          </mat-error>
        </mat-form-field>

        <mat-form-field class="mat-block">
          <mat-label translate>admin.branding.favicon-path</mat-label>
          <input matInput formControlName="faviconPath"/>
          <mat-error *ngIf="brandingSettingsFormGroup.get('faviconPath').hasError('required')">
            {{ 'admin.branding.favicon-path-required' | translate }}
          </mat-error>
        </mat-form-field>

        <mat-form-field class="mat-block">
          <mat-label translate>admin.branding.primary-color</mat-label>
          <input matInput formControlName="primaryColor" type="color"/>
          <mat-error *ngIf="brandingSettingsFormGroup.get('primaryColor').hasError('required')">
            {{ 'admin.branding.primary-color-required' | translate }}
          </mat-error>
        </mat-form-field>

        <mat-form-field class="mat-block">
          <mat-label translate>admin.branding.accent-color</mat-label>
          <input matInput formControlName="accentColor" type="color"/>
          <mat-error *ngIf="brandingSettingsFormGroup.get('accentColor').hasError('required')">
            {{ 'admin.branding.accent-color-required' | translate }}
          </mat-error>
        </mat-form-field>

        <mat-form-field class="mat-block">
          <mat-label translate>admin.branding.title</mat-label>
          <input matInput formControlName="title"/>
          <mat-error *ngIf="brandingSettingsFormGroup.get('title').hasError('required')">
            {{ 'admin.branding.title-required' | translate }}
          </mat-error>
        </mat-form-field>

        <mat-form-field class="mat-block">
          <mat-label translate>admin.branding.footer-text</mat-label>
          <input matInput formControlName="footerText"/>
          <mat-error *ngIf="brandingSettingsFormGroup.get('footerText').hasError('required')">
            {{ 'admin.branding.footer-text-required' | translate }}
          </mat-error>
        </mat-form-field>

        <mat-form-field class="mat-block">
          <mat-label translate>admin.branding.login-text</mat-label>
          <input matInput formControlName="loginText"/>
          <mat-error *ngIf="brandingSettingsFormGroup.get('loginText').hasError('required')">
            {{ 'admin.branding.login-text-required' | translate }}
          </mat-error>
        </mat-form-field>

      </fieldset>
      <div class="flex flex-row items-center justify-end gap-4 xs:flex-col xs:items-stretch">
        <button mat-raised-button color="primary"
                [disabled]="(isLoading$ | async) || brandingSettingsFormGroup.invalid || (!brandingSettingsFormGroup.dirty)"
                type="submit">{{'action.save' | translate}}
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
